{% extends 'base.html' %} {% load mptt_tags %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Review Detail</title>
  </head>


  
  
    {% block content %}
    <div class="card">
        <div class="card-header">
            Game Review: {{review.game}}
        </div>
        <div class="card-body">
          <blockquote class="blockquote mb-0">
            <p> {{review.text}}</p>
            <a href="/profile/{{review.user_created.id}}/">
            <footer class="blockquote-footer">  <cite title="Source Title">Reviewed By: {{review.user_created}}</cite></footer>
          </a>
          </blockquote>
          <div class="card-body">
            <a href="/create_review_comment/{{review.id}}" class="card-link"><button class="btn btn-primary" type="button">Add a comment</button></a>
          </div>
          
          {% recursetree comments %}
          
          <div class="card">
            <div class="card-header">
              {{ node.comment }}
            </div>
            <div class="card-body">
              <blockquote class="blockquote mb-0">
                {% if not node.is_leaf_node %}
              <ul class="children">
                <p>{{ children }}</p>
              </ul>
              {% endif %}
                <footer class="blockquote-footer">Someone famous in <cite title="Source Title">{{ node.user }}</cite></footer>
              </blockquote>
            </div>
          </div>
        
        {% endrecursetree %}
          
        </div>
      </div>

      <!-- {% recursetree comments %}
      <li>
        </div>
          {{ node.comment }}
          -- {{ node.user }}
          {% if not node.is_leaf_node %}
              <ul class="children">
                  {{ children }}
              </ul>
          {% endif %}
      </li>
  {% endrecursetree %} -->
    
{% endblock %}
  </body>
</html>
